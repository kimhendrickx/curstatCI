# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#'@title Pointwise Confidence Intervals under Current Status data
#'
#'@description The function ComputeConfIntervals computes pointwise confidence intervals for the distribution function under current status data.
#'The confidence intervals are based on the Smoothed Maximum likelihood Estimator and constructed using the nonparametric bootstrap.
#'
#'@param data DataFrame with three variables:
#'\describe{
#'     \item{t}{Observation points t sorted in ascending order}
#'     \item{freq1}{Frequency of observation t satisfying \eqn{y \le t}}
#'     \item{freq2}{Frequency of observation t}
#'}
#'@param x numeric vector
#'@param alpha confidence level of pointwise confidence intervals
#'@return List with 4 variables:
#'\enumerate{
#'     \item{MLE }{ maximum likelihood estimator}
#'     \item{SMLE }{ smoothed maximum likelihood estimator in x }
#'     \item{h }{ local bandwidths for points in x}
#'     \item{CI }{ pointwise confidence intervals for  points in x}
#'     }
#'@examples
#'library(Rcpp)
#'library(curstatCI)
#'
#'# sample size
#'n <- 1000
#'
#'# Uniform data  U(0,2)
#'set.seed(2)
#'y <- runif(n,0,2)
#'t <- runif(n,0,2)
#'delta <- as.numeric(y <= t)
#'
#'A<-cbind(t[order(t)], delta[order(t)], rep(1,n))
#'grid<-seq(0,2 ,by = 0.01)
#'
#'# pointwise confidence intervals at grid points:
#'out<-ComputeConfIntervals(data = A,x =grid,alpha = 0.05)
#'
#'left <- out$CI[,1]
#'right <- out$CI[,2]
#'
#'plot(grid, out$SMLE,type ='l', ylim=c(0,1), main= "",ylab="",xlab="",las=1)
#'lines(grid, left, col = 4)
#'lines(grid, right, col = 4)
#'segments(grid,left, grid, right)
#'
#'@export
ComputeConfIntervals <- function(data, x, alpha) {
    .Call('curstatCI_ComputeConfIntervals', PACKAGE = 'curstatCI', data, x, alpha)
}

#'@title Maximum Likelihood Estimator
#'@description The function ComputeMLE computes the Maximum likelihood Estimator of the distribution function under current status data.
#'@param data DataFrame with three variables:
#'\describe{
#'     \item{t}{Observation points t sorted in ascending order}
#'     \item{freq1}{Frequency of observation t satisfying \eqn{y \le t}}
#'     \item{freq2}{Frequency of observation t}
#'}
#'@return DataFrame with two variables :
#'\describe{
#'     \item{x}{jumplocations of the MLE}
#'     \item{mle}{MLE evaluated at the jumplocations}
#' }
#'@examples
#'library(Rcpp)
#'library(curstatCI)
#'
#'# sample size
#'n <- 1000
#'
#'# Uniform data  U(0,2)
#'set.seed(2)
#'y <- runif(n,0,2)
#'t <- runif(n,0,2)
#'delta <- as.numeric(y <= t)
#'
#'A<-cbind(t[order(t)], delta[order(t)], rep(1,n))
#'mle <-ComputeMLE(A)
#'plot(mle$x, mle$mle,type ='s', ylim=c(0,1), main= "",ylab="",xlab="",las=1)
#'
#'@export
ComputeMLE <- function(data) {
    .Call('curstatCI_ComputeMLE', PACKAGE = 'curstatCI', data)
}

#'@title Smoothed Maximum Likelihood Estimator
#'@description The function ComputeSMLE computes the Smoothed Maximum likelihood Estimator of the distribution function under current status data.
#'@param data DataFrame with three variables:
#'\describe{
#'     \item{t}{Observation points t sorted in ascending order}
#'     \item{freq1}{Frequency of observation t satisfying \eqn{y \le t}}
#'     \item{freq2}{Frequency of observation t}
#'}
#'@param h bandwidth
#'@param x numeric vector
#'@examples
#'library(Rcpp)
#'library(curstatCI)
#'
#'# sample size
#'n <- 1000
#'
#'# Uniform data  U(0,2)
#'set.seed(2)
#'y <- runif(n,0,2)
#'t <- runif(n,0,2)
#'delta <- as.numeric(y <= t)
#'
#'A<-cbind(t[order(t)], delta[order(t)], rep(1,n))
#'grid <-seq(0,2 ,by = 0.01)
#'h<-2*n^-0.2
#'
#'smle <-ComputeSMLE(A,grid,h)
#'plot(grid, smle,type ='l', ylim=c(0,1), main= "",ylab="",xlab="",las=1)
#'@return SMLE(x)
#'
#'@export
ComputeSMLE <- function(data, x, h) {
    .Call('curstatCI_ComputeSMLE', PACKAGE = 'curstatCI', data, x, h)
}

